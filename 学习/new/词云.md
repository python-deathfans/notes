

# 词云

## 简单英文

```python
import wordcloud

w = wordcloud.WordCloud()

w.generate('and that government of the people, by the people, for the people, shall not perish from the earth')

w.to_file('demo1.png')
```



## 简单中文

```python
from wordcloud import WordCloud

w = WordCloud(width=1000, height=700, background_color='white', font_path='./SIMLI.TTF')

w.generate('从明天起，做一个幸福的人。喂马、劈柴，周游世界。从明天起，关心粮食和蔬菜。我有一所房子，面朝大海，春暖花开')

w.to_file("demo2.png")
```



## 中文分词

```python
from wordcloud import WordCloud
import jieba

w = WordCloud(
    width=1000,
    height=700,
    background_color='white',
    font_path="./SIMLI.TTF"
)

txt = '同济大学（Tongji University），简称“同济”，是中华人民共和国教育部直属，由教育部、国家海洋局和上海市共建的全国重点大学，历史悠久、声誉卓著，是国家“双一流”、“211工程”、“985工程”重点建设高校，也是收生标准最严格的中国大学之一'

txt_list = jieba.lcut(txt)
txt_string = " ".join(txt_list)

w.generate(txt_string)

w.to_file("demo4.png")
```



## 蒙版

```python
import jieba
from wordcloud import WordCloud
from PIL import Image
import numpy as np

mask = Image.open("./wujiaoxing.png")   #type:Image.Image
mask = np.array(mask)

# 构建并配置词云对象w，注意要加scale参数，提高清晰度
w = WordCloud(
    width=1000,
    height=700,
    background_color='white',
    font_path="./SIMLI.TTF",
    mask=mask,
    scale=15
)

with open("./关于实施乡村振兴战略的意见.txt", encoding='utf-8') as f:
    txt = f.read()

txt_list = jieba.lcut(txt)
txt_string = " ".join(txt_list)

w.generate(txt_string)
w.to_file("demo5.png")
```



## 停止词

```python
from wordcloud import WordCloud
from PIL import Image
import numpy as np
import jieba

mask = Image.open("./chinamap.png")
mask = np.array(mask)

# 构建并配置词云对象w，注意要加stopwords集合参数，将不想展示在词云中的词放在stopwords集合里，这里去掉“曹操”和“孔明”两个词
w = WordCloud(width=1000,
                        height=700,
                        background_color='white',
                        font_path='msyh.ttc',
                        mask=mask,
                        scale=15,
                        stopwords={'曹操','孔明'})

# 对来自外部文件的文本进行中文分词，得到string
f = open('三国演义.txt',encoding='utf-8')
txt = f.read()
txtlist = jieba.lcut(txt)
string = " ".join(txtlist)

# 将string变量传入w的generate()方法，给词云输入文字
w.generate(string)

# 将词云图片导出到当前文件夹
w.to_file('demo6.png')
```



## 勾勒轮廓

```python
from wordcloud import WordCloud
from PIL import Image
import numpy as np

with open("./hamlet.txt", encoding='utf-8') as f:
    txt = f.read()

mask = np.array(Image.open("./alice.png"))

w = WordCloud(
    background_color="white",
    mask=mask,
    contour_width=1,
    contour_color='steelblue'
)

w.generate(txt)
w.to_file("demo7.png")
```



## 按照模板上色

```python
import matplotlib.pyplot as plt
from wordcloud import WordCloud, ImageColorGenerator
from PIL import Image
import numpy as np

with open("./hamlet.txt", encoding='utf-8') as f:
    txt = f.read()

mask = np.array(Image.open("./alice.png"))

w = WordCloud(
    background_color='white',
    mask=mask,
    width=1000,
    height=700
)

w.generate(txt)

image_colors = ImageColorGenerator(mask)

w_colored = w.recolor(color_func=image_colors)      #type:WordCloud
w_colored.to_file("demo8.png")
```

## stylecloud

```python
from stylecloud import gen_stylecloud

# 中文词云必须导入字体，否则是长方形
# gen_stylecloud(file_path="./三国演义.txt", output_name="hamlet.png", font_path="./SIMLI.TTF")


gen_stylecloud(
    file_path="./三国演义.txt",
    output_name="hamlet_dog.png",
    font_path="./SIMLI.TTF",
    collocations=False,
    icon_name="fas fa-dog",
    size=400
)
```

